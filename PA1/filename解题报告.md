# filename解题报告

#### 于雨琛  2020011846  经02-计08



### 一. 所使用数据结构与算法的构思、原理和实现要点。

本题算法层面采用LCS方法，在结构上仅使用两行，且长度最大为400（实际只会用到210以内）的数组存储，类似于memoization，但大大化简了空间复杂度，每次只向右下方挪动一个单位，每行统计最大长度为203，由于K最大为100，因此超过2倍K的数据可以直接不用考虑。两行数组当作循环数组使用，即第一行数组用来记录LCS的第一、三、五...行，第二行数组记录LCS的第二、四、六...行。

原理上是最长公共子序列的变种，使用动态规划的方式从头向尾按行扫描最长的公共子序列，返回公共长度tt，之后判断fin = M + N - 2 * tt;其中fin是所需要的操作数，M是第一个串的长度，N是第二个串的长度，之后比较fin与K即可。

实现要点是控制时间与空间复杂度。若按照传统的LCS算法，需要不可避免的O(n^2)的时间复杂度，因此需要减少需要判断与记录的数据次数。

### 二. 完成过程中遇到的问题，排除问题的主要过程、使用的方法和技巧，以及参考资料。

首先确定需要使用LCS算法，之后要分析清楚所需的操作次数是fin = M + N - 2 * tt;即两个串的长度和减去两倍公共子序列的长度。之后需要使用合适的手段减小时间复杂度与空间复杂度，发现如果对角线上的点左右100以内全部没有相同的数据则不可能满足K的要求，因此每次迭代只需沿对角线查看前后101的数据，再加上由于每次迭代只取决于上一行的数据，因此可以只使用一个两行的数组进行。

在程序中还进行了一个M与N均小于2000时直接使用LCS进行的特判，满足要求的时间与空间条件。在调试中的主要困难是理清每次第二行向右移动一格后与上一行的对应关系，通过在草稿纸上把数据组织清楚的画出来正确写出了结构。

参考资料：邓老师课上LCS讲义，助教习题课。

### 三. 时间复杂度，空间复杂度估算。

空间上，需要使用两个数组存储输入数据，之后使用两行数组(循环数组)，空间复杂度为O(1)，800个int以内的空间。

时间上，LCS的每行最多只需判断沿对角线前后各100各字符的数据，因此设min{M,N}=Q，则时间复杂度为O(n)，小于203*Q的时间复杂度。