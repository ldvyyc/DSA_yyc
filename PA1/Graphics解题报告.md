# Graphics解题报告

#### 于雨琛  2020011846  经02-计08



### 一. 所使用数据结构与算法的构思、原理和实现要点。

本题的解决分为两步，第一步是使用归并排序将x轴与y轴数据排序，从小到大一一对应；第二步是使用二分查找和ToLeft测试判断该条线段是否在该点的下面，根据结果继续查找。在算法上主要是一个归并排序与一个二分查找，以及一个ToLeft测试，在结构上使用简单的数组存储。

实现要点首先是发现由于两两不重合因此必须按照顺序一一对应，由此使用归并排序进行；第二步是使用ToLeft测试，通过向量的叉积判断点和线段的位置，再使用迭代的方式进行二分查找。特别注意叉积的结果可能会爆出int，因此要使用long long来存储数据。

### 二. 完成过程中遇到的问题，排除问题的主要过程、使用的方法和技巧，以及参考资料。

遇到的第一个问题是归并排序中由于下标的错误导致数组越界访问，但编译器会自动终止并不报错，因此通过单步跟踪找到了问题；之后在二分查找时对于终止条件写法有问题，也是通过单步跟踪的方式，并通过构造边界测例修改。最后，由于之间将ToLeft的结果使用int存储，会导致数据越界，通过将全部数据类型改为long long修正。

参考资料：等老师关于二分查找和归并排序的讲义。

### 三. 估算时间复杂度与空间复杂度

归并排序的递推公式T[n]  =  2T[n/2] + O(n)，因此时间复杂度为O(nlogn)，空间复杂度为压入栈的数组大小以及临时数组长度，为O(n)。二分查找的时间复杂度为O(logn)，空间复杂度为O(1).

因此程序总体时间复杂度为O(nlogn)，空间复杂度为O(n)。